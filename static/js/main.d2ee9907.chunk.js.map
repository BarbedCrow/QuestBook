{"version":3,"sources":["components/Button.js","components/Quest/QuestList.js","components/ImageContainer.js","components/Quest/Action/QuestActionList.js","components/Quest/QuestInventory.js","components/Quest/Quest.js","App.js","index.js"],"names":["Button","title","this","props","name","before","icon","onClick","undefined","id","console","warn","text","React","Component","QuestList","quests","map","desc","key","author","onQuestButtonClick","ImageContainer","style","getStyle","src","image","alt","height","width","QuestActionList","actions","act","onButtonClick","QuestInventory","onShowAdditionalInfo","bind","onCloseAdditionalInfo","onSwipeMove","state","activeModal","onRef","vals","globals","global","idx","separator","length","margin","type","level","value","num","Number","isNaN","Array","isArray","values","val","header","onClose","setState","position","event","minWidth","window","innerHeight","touches","clientY","Math","abs","y","Quest","onNodeActionClick","checkInputAnswer","quest","activeNodeIdx","isShowInventoryTip","isFirstLaunch","activeNode","nodes","isShown","top","defaultValue","onChange","e","ref","inventory","action","getAction","nextNodeId","i","node","target","textPlaceholder1","questNodes","QUEST_LIST_VIEW","App","osname","platform","requestQuests","onRequestBackToQuestList","activeView","activeQuest","size","activePanel","left","IOS","getQuest","connect","send","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2ee9907.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {Group, CellButton} from \"@vkontakte/vkui\";\r\n\r\nclass Button extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <Group title={this.props.name}>\r\n                <CellButton\r\n                    before={this.props.icon}\r\n                    onClick={() => {\r\n                        if (this.props.onClick !== undefined){\r\n                            this.props.onClick(this.props.id)\r\n                        }else{\r\n                            console.warn(\"click event handler is \" + this.props.onClick)\r\n                        }\r\n                    }\r\n                    }\r\n                >\r\n                    {this.props.text}\r\n                </CellButton>\r\n            </Group>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Button","import React from \"react\"\r\nimport Button from \"../Button\";\r\n\r\nclass QuestList extends React.Component{\r\n\r\n    render(){\r\n        return this.props.quests.map(desc => <Button key={desc.id} id={desc.id} name={desc.name} text={desc.desc} author={desc.author} onClick={this.props.onQuestButtonClick}/>)\r\n    }\r\n\r\n}\r\n\r\nexport default QuestList","import React from \"react\"\r\nclass ImageContainer extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            <img style={this.getStyle()} src={this.props.image} alt={this.props.image}/>\r\n        )\r\n    }\r\n\r\n    getStyle(){\r\n        return{\r\n            height: \"100%\",\r\n            width :\"100%\"\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default ImageContainer","import React from \"react\";\r\nimport Button from \"../../Button\";\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron'\r\n\r\nclass QuestActionList extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            this.props.actions !== null ?\r\n                this.props.actions.map(act => <Button icon={<Icon16Chevron/>}  onClick={this.props.onButtonClick} key={act.id} id={act.id} text={act.text}/>)\r\n            :\r\n                null\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default QuestActionList","import React from \"react\"\r\nimport {ModalPage, ModalPageHeader, ModalRoot, Div, Group, Progress, List, Header, Separator} from \"@vkontakte/vkui\";\r\n\r\nconst MODAL_PAGE_INFO = \"info\";\r\n\r\nclass QuestInventory extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onShowAdditionalInfo = this.onShowAdditionalInfo.bind(this);\r\n        this.onCloseAdditionalInfo = this.onCloseAdditionalInfo.bind(this);\r\n\r\n        this.onSwipeMove = this.onSwipeMove.bind(this);\r\n\r\n        this.state={\r\n            activeModal:null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onRef(this);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onRef(null);\r\n    }\r\n\r\n    render() {\r\n        const vals = this.props.globals.map((global, idx) => {\r\n            const separator = idx < this.props.globals.length - 1 ? <Separator style={{ margin: '0' }} /> : null;\r\n            switch (global.type) {\r\n               case 0:\r\n                   return(\r\n                       <div key={global.name}>\r\n                           <Div>\r\n                               <Header>{global.name}:</Header>\r\n                               <Header  level={\"secondary\"}>{global.value}</Header>\r\n                           </Div>\r\n                           {separator}\r\n                       </div>\r\n                   );\r\n               case 1:\r\n                   let num = Number(global.value);\r\n                   if (isNaN(num)){\r\n                       console.warn(\"wrong global type %i value format %s\", global.type, global.value);\r\n                       return null;\r\n                   }\r\n                   if(num < 0 || num > 100){\r\n                       console.warn(\"wrong global type %i value %s\", global.type, global.value);\r\n                       num = num < 0 ? 0 : 100;\r\n                   }\r\n                   return (\r\n                       <div key ={global.name}>\r\n                           <Div>\r\n                               <Header>{global.name}:</Header>\r\n                               <Progress value={num}/>\r\n                           </Div>\r\n                           {separator}\r\n                       </div>\r\n                   );\r\n               case 2:\r\n                   if(!Array.isArray(global.value)){\r\n                       console.warn(\"global type %i value is not an array: %s\", global.type, global.value);\r\n                       return null;\r\n                   }\r\n\r\n                   const values = global.value.map((val) => {\r\n                       return <Header key={val} level=\"secondary\">{val}</Header>;\r\n                   });\r\n\r\n                   return(\r\n                     <div key ={global.name}>\r\n                         <Div>\r\n                             <Header>{global.name}:</Header>\r\n                             <List>\r\n                                 {values}\r\n                             </List>\r\n                         </Div>\r\n                         {separator}\r\n                     </div>\r\n                   );\r\n            }\r\n        });\r\n        return(\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id={MODAL_PAGE_INFO}\r\n                    header={<ModalPageHeader>INFO</ModalPageHeader>}\r\n                    onClose={this.onCloseAdditionalInfo}\r\n                >\r\n                    {vals}\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        )\r\n    }\r\n\r\n    onShowAdditionalInfo(){\r\n        this.setState({activeModal:MODAL_PAGE_INFO})\r\n    }\r\n\r\n    onCloseAdditionalInfo(){\r\n        this.setState({activeModal:null})\r\n    }\r\n\r\n    onSwipeMove(position, event) {\r\n        const minWidth = window.innerHeight / 8;\r\n        if (window.innerHeight - event.touches[0].clientY > window.innerHeight / 3){\r\n            return\r\n        }\r\n\r\n        if(Math.abs(position.y) > minWidth){\r\n            this.onShowAdditionalInfo()\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default QuestInventory","import React from \"react\"\r\nimport {Group, Div, Tooltip, FormLayoutGroup, FormLayout, Input} from \"@vkontakte/vkui\"\r\nimport ImageContainer from \"../ImageContainer\";\r\nimport QuestActionList from \"./Action/QuestActionList\";\r\nimport QuestInventory from \"./QuestInventory\";\r\n\r\nclass Quest extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onNodeActionClick = this.onNodeActionClick.bind(this);\r\n        this.checkInputAnswer = this.checkInputAnswer.bind(this);\r\n\r\n        this.state = {\r\n            quest: this.props.quest,\r\n            activeNodeIdx: 0,\r\n            activeModal: null,\r\n            isShowInventoryTip:this.props.isFirstLaunch\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.onRef(this);\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        if(activeNode.actions === null){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n        if(activeNode.text === \"\"){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onRef(null);\r\n    }\r\n\r\n    render(){\r\n        if (this.state.activeNodeIdx < 0 || this.state.activeNodeIdx >= this.state.quest.nodes.length){\r\n            console.warn(\"activeNodeIdx is out of boundaries: \" + this.state.activeNodeIdx);\r\n            return null\r\n        }\r\n\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        return(\r\n            <Div>\r\n                {\r\n                    activeNode.image !== \"\" ?\r\n                        <ImageContainer image={activeNode.image}/>\r\n                    :\r\n                    null\r\n                }\r\n\r\n                <Group>\r\n                    <Div>\r\n                        {activeNode.text !== \"\" ? activeNode.text : null}\r\n                    </Div>\r\n                </Group>\r\n\r\n                <Tooltip\r\n                    text={\"To show additional info about your character current state swipe from bottom to top in lower quarter of the screen.\"}\r\n                    isShown={this.state.isShowInventoryTip}\r\n                    onClose={()=>{this.setState({isShowInventoryTip:false})}}\r\n                >\r\n                    <Group/>\r\n                </Tooltip>\r\n\r\n                {activeNode.actions.length === 1 && activeNode.actions[0].type === 1 ?\r\n                    <FormLayout>\r\n                        <FormLayoutGroup top=\"Answer\">\r\n                            <Input type=\"text\" defaultValue=\"\" onChange={(e) => this.checkInputAnswer(e)}/>\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                    :\r\n                    <QuestActionList actions={activeNode.actions} onButtonClick={this.onNodeActionClick}/>\r\n                }\r\n                <QuestInventory onRef={ref => (this.inventory = ref)} globals={this.state.quest.globals}/>\r\n            </Div>\r\n\r\n        )\r\n    }\r\n\r\n    onNodeActionClick(id){\r\n        const action = this.getAction(id);\r\n        this.setState({activeNodeIdx:action.nextNodeId});\r\n    }\r\n\r\n    getAction(id){\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        for(let i = 0; i < activeNode.actions.length; i += 1){\r\n            const node = activeNode.actions[i];\r\n            if(node.id === id){\r\n                return node;\r\n            }\r\n        }\r\n    }\r\n\r\n    onSwipeMove(position, event){\r\n        this.inventory.onSwipeMove(position, event);\r\n    }\r\n\r\n    checkInputAnswer(e){\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        const action = activeNode.actions[0];\r\n        const val = e.target.value;\r\n        if (val === action.text){\r\n            this.setState({activeNodeIdx:action.nextNodeId});\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Quest","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Root, View, Panel, PanelHeader, Spinner, HeaderButton, platform, IOS} from \"@vkontakte/vkui\";\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport QuestList from \"./components/Quest/QuestList\";\r\nimport Quest from \"./components/Quest/Quest\";\r\nimport Swipe from \"react-easy-swipe\";\r\n\r\nconst textPlaceholder1 = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\r\n\r\nconst actionPlaceholder1 = {id:\"0\", nextNodeId:\"1\", type:0, text:\"Some action text\"};\r\nconst actionPlaceholder2 = {id:\"1\", nextNodeId:\"2\", type:0, text:\"Some text about how i like to do anything instead of my job\"};\r\nconst actionPlaceholder3 = {id:\"0\", nextNodeId:\"0\", type:1, text:\"Answer\"};\r\nconst actions = [\r\n\tactionPlaceholder1,\r\n\tactionPlaceholder2,\r\n];\r\n\r\nconst questNodePlaceholder1 ={id:\"0\", text:textPlaceholder1, image:\"https://cdn.akc.org/Marketplace/Breeds/Staffordshire_Bull_Terrier_SERP.jpg\", actions:actions};\r\nconst questNodePlaceholder2 ={id:\"1\", text:textPlaceholder1, image:\"https://www.k9web.com/wp-content/uploads/2019/01/staffordshire-bull-terrier.jpg\", actions:actions};\r\nconst questNodePlaceholder3 ={id:\"2\", text:textPlaceholder1, image:\"https://www.allthingsdogs.com/wp-content/uploads/2018/10/American-Pitbull-Terrier-Sleeping.jpg\", actions:[actionPlaceholder3]};\r\nconst questNodes = [\r\n\tquestNodePlaceholder1,\r\n\tquestNodePlaceholder2,\r\n\tquestNodePlaceholder3\r\n];\r\n\r\nconst globals = [\r\n\t{type:0, name:\"Money\", value:\"15000\"},\r\n\t{type:0, name:\"Authority\", value:\"1000\"},\r\n\t{type:1, name:\"Health Points\", value:\"100\"},\r\n\t{type:1, name:\"Manna\", value:\"100\"},\r\n\t{type:1, name:\"Quest Completion\", value:\"35\"},\r\n\t{type:2, name:\"Items\", value:[\"Knife\", \"Chair\", \"Sugar\"]},\r\n];\r\n\r\nconst quests = [\r\n\t{id:\"1\", name:\"Quest1\", desc:\"Lorem ipsum dolor sit amet\", author:\"Andrew Bamby\", globals: globals, nodes: questNodes},\r\n\t{id:\"2\", name:\"Second Quest\", desc:\"Some placeholder text about how cool this quest is\", author:\"Kremdlya ZhepbI\", globals: globals, nodes: questNodes},\r\n\t{id:\"3\", name:\"The third and the last quest\", desc:\"The most unbelievable quest on the planet Earth.Trust me.\", author:\"The most unbelievable man on the planet Mars\", globals: globals, nodes: questNodes}\r\n];\r\n\r\nconst QUEST_LIST_VIEW = \"questList\";\r\nconst QUEST_LIST_PANEL = \"questListPanel\";\r\nconst QUEST_VIEW = \"quest\";\r\nconst QUEST_PANEL = \"questPanel\";\r\n\r\nclass App extends React.Component{\r\n\r\n\tosname = platform();\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.requestQuests = this.requestQuests.bind(this);\r\n\t\tthis.onQuestButtonClick = this.onQuestButtonClick.bind(this);\r\n\t\tthis.onRequestBackToQuestList = this.onRequestBackToQuestList.bind(this);\r\n        this.onSwipeMove = this.onSwipeMove.bind(this);\r\n\r\n\t\tthis.state={\r\n\t\t\tactiveView:QUEST_LIST_VIEW,\r\n\t\t\tactiveQuest:null,\r\n\t\t\tquests:null,\r\n            isFirstLaunch:true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.requestQuests();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\tthis.state.quests === null ?\r\n                <Spinner size=\"large\" />\r\n                :\r\n                <Swipe onSwipeMove={this.onSwipeMove}>\r\n                    <Root activeView={this.state.activeView}>\r\n                        <View activePanel={QUEST_LIST_PANEL} id={QUEST_LIST_VIEW}>\r\n                            <Panel id={QUEST_LIST_PANEL}>\r\n                                <PanelHeader>Quests</PanelHeader>\r\n                                <QuestList quests ={this.state.quests} onQuestButtonClick={this.onQuestButtonClick} />\r\n                            </Panel>\r\n                        </View>\r\n                        <View activePanel={QUEST_PANEL} id={QUEST_VIEW}>\r\n                            <Panel id={QUEST_PANEL}>\r\n                                <PanelHeader\r\n                                    left={\r\n                                        <HeaderButton onClick={this.onRequestBackToQuestList}>\r\n                                            {this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                                        </HeaderButton>\r\n                                    }\r\n                                >\r\n                                    {this.state.activeQuest !== null ? this.state.activeQuest.name : null}\r\n                                </PanelHeader>\r\n                                {this.state.activeQuest !== null ? <Quest onRef={ref => (this.quest = ref) } quest={this.state.activeQuest} isFirstLaunch={this.state.isFirstLaunch}/> : <Spinner size=\"large\" />}\r\n                            </Panel>\r\n                        </View>\r\n\r\n                    </Root>\r\n                </Swipe>\r\n\t\t)\r\n\t}\r\n\r\n\trequestQuests(){\r\n\t\tthis.setState({quests:quests})\r\n\t}\r\n\r\n\tgetQuest(id){\r\n\t\tfor(let i = 0; i < this.state.quests.length; i += 1){\r\n\t\t\tconst quest = this.state.quests[i];\r\n\t\t\tif(quest.id === id){\r\n\t\t\t\treturn quest;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonRequestBackToQuestList(){\r\n\t\tthis.setState({\r\n\t\t\tactiveView:QUEST_LIST_VIEW,\r\n\t\t\tactiveQuest:null\r\n\t\t})\r\n\t}\r\n\r\n\tonQuestButtonClick(id){\r\n\t\tthis.setState({\r\n\t\t\tactiveView:QUEST_VIEW,\r\n\t\t\tactiveQuest:this.getQuest(id)\r\n\t\t})\r\n\t}\r\n\r\n    onSwipeMove(position, event){\r\n\t    if (event.touches.length === 0){\r\n\t        return;\r\n        }\r\n\r\n        this.quest.onSwipeMove(position, event)\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}