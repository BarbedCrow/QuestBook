{"version":3,"sources":["components/Button.js","components/Quest/QuestList.js","components/ImageContainer.js","components/Quest/Action/QuestActionList.js","components/Quest/Quest.js","App.js","index.js"],"names":["Button","title","this","props","name","before","icon","onClick","undefined","id","console","warn","text","React","Component","QuestList","quests","map","desc","key","author","onQuestButtonClick","ImageContainer","style","getStyle","src","image","alt","height","width","QuestActionList","actions","act","onButtonClick","Quest","onNodeActionClick","bind","state","quest","activeNodeIdx","activeNode","nodes","length","action","getAction","setState","nextNodeId","i","node","textPlaceholder1","type","questNodes","App","questListView","questListPanel","questView","questPanel","osname","platform","requestQuests","onRequestBackToQuestList","activeView","activeQuest","size","activePanel","left","IOS","getQuest","connect","send","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7dd4b4a0.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {Group, CellButton} from \"@vkontakte/vkui\";\r\n\r\nclass Button extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <Group title={this.props.name}>\r\n                <CellButton\r\n                    before={this.props.icon}\r\n                    onClick={() => {\r\n                        if (this.props.onClick !== undefined){\r\n                            this.props.onClick(this.props.id)\r\n                        }else{\r\n                            console.warn(\"click event handler is \" + this.props.onClick)\r\n                        }\r\n                    }\r\n                    }\r\n                >\r\n                    {this.props.text}\r\n                </CellButton>\r\n            </Group>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Button","import React from \"react\"\r\nimport Button from \"../Button\";\r\n\r\nclass QuestList extends React.Component{\r\n\r\n    render(){\r\n        return this.props.quests.map(desc => <Button key={desc.id} id={desc.id} name={desc.name} text={desc.desc} author={desc.author} onClick={this.props.onQuestButtonClick}/>)\r\n    }\r\n\r\n}\r\n\r\nexport default QuestList","import React from \"react\"\r\nclass ImageContainer extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            <img style={this.getStyle()} src={this.props.image} alt={this.props.image}/>\r\n        )\r\n    }\r\n\r\n    getStyle(){\r\n        return{\r\n            height: \"100%\",\r\n            width :\"100%\"\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default ImageContainer","import React from \"react\";\r\nimport Button from \"../../Button\";\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron'\r\n\r\nclass QuestActionList extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            this.props.actions !== null ?\r\n                this.props.actions.map(act => <Button icon={<Icon16Chevron/>}  onClick={this.props.onButtonClick} key={act.id} id={act.id} text={act.text}/>)\r\n            :\r\n                null\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default QuestActionList","import React from \"react\"\r\nimport {Group, Div} from \"@vkontakte/vkui\"\r\nimport ImageContainer from \"../ImageContainer\";\r\nimport QuestActionList from \"./Action/QuestActionList\";\r\n\r\nclass Quest extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onNodeActionClick = this.onNodeActionClick.bind(this);\r\n\r\n        this.state = {\r\n            quest:this.props.quest,\r\n            activeNodeIdx:0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        if(activeNode.actions === null){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n        if(activeNode.text === \"\"){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if (this.state.activeNodeIdx < 0 || this.state.activeNodeIdx >= this.state.quest.nodes.length){\r\n            console.warn(\"activeNodeIdx is out of boundaries: \" + this.state.activeNodeIdx)\r\n            return null\r\n        }\r\n\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        return(\r\n            <Div>\r\n                {\r\n                    activeNode.image !== \"\" ?\r\n                        <ImageContainer image={activeNode.image}/>\r\n                    :\r\n                    null\r\n                }\r\n\r\n                <Group>\r\n                    <Div>\r\n                        {activeNode.text !== \"\" ? activeNode.text : null}\r\n                    </Div>\r\n                </Group>\r\n\r\n                <QuestActionList actions={activeNode.actions} onButtonClick={this.onNodeActionClick}/>\r\n            </Div>\r\n        )\r\n    }\r\n\r\n    onNodeActionClick(id){\r\n        const action = this.getAction(id);\r\n        this.setState({activeNodeIdx:action.nextNodeId});\r\n    }\r\n\r\n    getAction(id){\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        for(let i = 0; i < activeNode.actions.length; i += 1){\r\n            const node = activeNode.actions[i];\r\n            if(node.id === id){\r\n                return node;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Quest","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Root, View, Panel, PanelHeader, Spinner, HeaderButton, platform, IOS} from \"@vkontakte/vkui\";\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport QuestList from \"./components/Quest/QuestList\";\r\nimport Quest from \"./components/Quest/Quest\";\r\n\r\nconst textPlaceholder1 = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\r\n\r\nconst actionPlaceholder1 = {id:\"0\", nextNodeId:\"1\", type:0, text:\"Some action text\"};\r\nconst actionPlaceholder2 = {id:\"1\", nextNodeId:\"0\", type:0, text:\"Some text about how i like to do anything instead of my job\"};\r\nconst actionPlaceholder3 = {id:\"2\", nextNodeId:\"1\", type:0, text:\"Some action text without any sense of logic\"};\r\nconst actions = [\r\n\tactionPlaceholder1,\r\n\tactionPlaceholder2,\r\n\tactionPlaceholder3\r\n];\r\n\r\nconst questNodePlaceholder1 ={id:\"0\", text:textPlaceholder1, image:\"https://cdn.akc.org/Marketplace/Breeds/Staffordshire_Bull_Terrier_SERP.jpg\", actions:actions};\r\nconst questNodePlaceholder2 ={id:\"1\", text:textPlaceholder1, image:\"https://www.k9web.com/wp-content/uploads/2019/01/staffordshire-bull-terrier.jpg\", actions:actions};\r\nconst questNodes = [\r\n\tquestNodePlaceholder1,\r\n\tquestNodePlaceholder2\r\n];\r\n\r\nconst quests = [\r\n\t{id:\"1\", name:\"Quest1\", desc:\"Lorem ipsum dolor sit amet\", author:\"Andrew Bamby\", nodes: questNodes},\r\n\t{id:\"2\", name:\"Second Quest\", desc:\"Some placeholder text about how cool this quest is\", author:\"Kremdlya ZhepbI\", nodes: questNodes},\r\n\t{id:\"3\", name:\"The third and the last quest\", desc:\"The most unbelievable quest on the planet Earth.Trust me.\", author:\"The most unbelievable man on the planet Mars\", nodes: questNodes}\r\n];\r\n\r\nclass App extends React.Component{\r\n\r\n\tquestListView = \"questList\";\r\n\tquestListPanel = \"questListPanel\";\r\n\tquestView = \"quest\";\r\n\tquestPanel = \"questPanel\";\r\n\r\n\tosname = platform();\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.requestQuests = this.requestQuests.bind(this);\r\n\t\tthis.onQuestButtonClick = this.onQuestButtonClick.bind(this);\r\n\t\tthis.onRequestBackToQuestList = this.onRequestBackToQuestList.bind(this);\r\n\r\n\t\tthis.state={\r\n\t\t\tactiveView:this.questListView,\r\n\t\t\tactiveQuest:null,\r\n\t\t\tquests:null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.requestQuests();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\tthis.state.quests === null ?\r\n\t\t\t\t<Spinner size=\"large\" />\r\n\t\t\t\t:\r\n\t\t\t\t<Root activeView={this.state.activeView}>\r\n\t\t\t\t\t<View activePanel={this.questListPanel} id={this.questListView}>\r\n\t\t\t\t\t\t<Panel id={this.questListPanel}>\r\n\t\t\t\t\t\t\t<PanelHeader>Quests</PanelHeader>\r\n\t\t\t\t\t\t\t<QuestList quests ={this.state.quests} onQuestButtonClick={this.onQuestButtonClick} />\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View activePanel={this.questPanel} id={this.questView}>\r\n\t\t\t\t\t\t<Panel id={this.questPanel}>\r\n\t\t\t\t\t\t\t<PanelHeader\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<HeaderButton onClick={this.onRequestBackToQuestList}>\r\n\t\t\t\t\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t\t\t\t\t</HeaderButton>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.activeQuest !== null ? this.state.activeQuest.name : null}\r\n\t\t\t\t\t\t\t</PanelHeader>\r\n\t\t\t\t\t\t\t{this.state.activeQuest !== null ? <Quest quest={this.state.activeQuest}/> : <Spinner size=\"large\" />}\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Root>\r\n\t\t)\r\n\t}\r\n\r\n\trequestQuests(){\r\n\t\tthis.setState({quests:quests})\r\n\t}\r\n\r\n\tgetQuest(id){\r\n\t\tfor(let i = 0; i < this.state.quests.length; i += 1){\r\n\t\t\tconst quest = this.state.quests[i];\r\n\t\t\tif(quest.id === id){\r\n\t\t\t\treturn quest;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonRequestBackToQuestList(){\r\n\t\tthis.setState({\r\n\t\t\tactiveView:this.questListView,\r\n\t\t\tactiveQuest:null\r\n\t\t})\r\n\t}\r\n\r\n\tonQuestButtonClick(id){\r\n\t\tthis.setState({\r\n\t\t\tactiveView:this.questView,\r\n\t\t\tactiveQuest:this.getQuest(id)\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}