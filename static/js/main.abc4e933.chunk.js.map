{"version":3,"sources":["components/Button.js","components/Quest/QuestList.js","components/ImageContainer.js","components/Quest/Action/QuestActionList.js","components/Quest/QuestInventory.js","components/Quest/Quest.js","components/Profile.js","App.js","index.js"],"names":["Button","title","this","props","name","before","icon","onClick","undefined","id","console","warn","text","React","Component","QuestList","quests","map","desc","key","author","onQuestButtonClick","ImageContainer","style","getStyle","src","image","alt","height","width","QuestActionList","actions","act","onButtonClick","QuestInventory","onShowAdditionalInfo","bind","onCloseAdditionalInfo","state","activeModal","globals","global","type","level","value","num","Number","isNaN","Array","isArray","values","val","setState","Quest","onNodeActionClick","checkInputAnswer","quest","activeNodeIdx","isShowInventoryTip","isFirstLaunch","activeNode","nodes","length","slideWidth","align","top","defaultValue","onChange","e","action","getAction","nextNodeId","i","node","target","Profile","textPlaceholder1","questNodes","App","osname","platform","requestQuests","onRequestBackToQuestList","onStoryChange","activeStory","QUEST_LIST_VIEW","activeQuestStory","activeQuest","size","tabbar","selected","data-story","PROFILE_VIEW","activePanel","QUEST_LIST_PANEL","QUEST_PANEL","QUEST_VIEW","left","IOS","PROFILE_PANEL","currentTarget","dataset","story","getQuest","connect","send","ReactDOM","render","document","getElementById"],"mappings":"slBA2BeA,E,iLAtBF,IAAD,OACJ,OACI,kBAAC,IAAD,CAAOC,MAAOC,KAAKC,MAAMC,MACrB,kBAAC,IAAD,CACIC,OAAQH,KAAKC,MAAMG,KACnBC,QAAS,gBACsBC,IAAvB,EAAKL,MAAMI,QACX,EAAKJ,MAAMI,QAAQ,EAAKJ,MAAMM,IAE9BC,QAAQC,KAAK,0BAA4B,EAAKR,MAAMI,WAK3DL,KAAKC,MAAMS,W,GAhBXC,IAAMC,WCQZC,E,iLANF,IAAD,OACJ,OAAOb,KAAKC,MAAMa,OAAOC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAQC,IAAKD,EAAKT,GAAIA,GAAIS,EAAKT,GAAIL,KAAMc,EAAKd,KAAMQ,KAAMM,EAAKA,KAAME,OAAQF,EAAKE,OAAQb,QAAS,EAAKJ,MAAMkB,4B,GAHnIR,IAAMC,WCefQ,E,iLAdP,OACI,yBAAKC,MAAOrB,KAAKsB,WAAYC,IAAKvB,KAAKC,MAAMuB,MAAOC,IAAKzB,KAAKC,MAAMuB,U,iCAKxE,MAAM,CACFE,OAAQ,OACRC,MAAO,Y,GAXUhB,IAAMC,W,iBCgBpBgB,E,iLAXD,IAAD,OACL,OAC2B,OAAvB5B,KAAKC,MAAM4B,QACP7B,KAAKC,MAAM4B,QAAQd,KAAI,SAAAe,GAAG,OAAI,kBAAC,EAAD,CAAQ1B,KAAM,kBAAC,IAAD,MAAmBC,QAAS,EAAKJ,MAAM8B,cAAed,IAAKa,EAAIvB,GAAIA,GAAIuB,EAAIvB,GAAIG,KAAMoB,EAAIpB,UAErI,S,GAPcC,IAAMC,WC6ErBoB,E,YA1EX,WAAY/B,GAAO,IAAD,8BACd,4CAAMA,KAEDgC,qBAAuB,EAAKA,qBAAqBC,KAA1B,gBAC5B,EAAKC,sBAAwB,EAAKA,sBAAsBD,KAA3B,gBAE7B,EAAKE,MAAM,CACPC,YAAY,MAPF,E,sEAYd,OACIrC,KAAKC,MAAMqC,QAAQvB,KAAI,SAACwB,GACpB,OAAQA,EAAOC,MACX,QAEI,OADAhC,QAAQC,KAAK,4BAA6B8B,EAAOrC,KAAMqC,EAAOC,MACvD,kBAAC,IAAD,CAAOvB,IAAKsB,EAAOrC,MAAnB,oBACX,KAAK,EACD,OACI,kBAAC,IAAD,CAAOe,IAAKsB,EAAOrC,MACf,kBAAC,IAAD,KAASqC,EAAOrC,KAAhB,KACA,kBAAC,IAAD,CAASuC,MAAO,aAAcF,EAAOG,QAGjD,KAAK,EACD,IAAIC,EAAMC,OAAOL,EAAOG,OACxB,OAAIG,MAAMF,IACNnC,QAAQC,KAAK,uCAAwC8B,EAAOC,KAAMD,EAAOG,OAClE,QAERC,EAAM,GAAKA,EAAM,OAChBnC,QAAQC,KAAK,gCAAiC8B,EAAOC,KAAMD,EAAOG,OAClEC,EAAMA,EAAM,EAAI,EAAI,KAGpB,kBAAC,IAAD,CAAO1B,IAAMsB,EAAOrC,MAChB,kBAAC,IAAD,KAASqC,EAAOrC,KAAhB,KACA,kBAAC,IAAD,CAAUwC,MAAOC,MAG7B,KAAK,EACD,IAAIG,MAAMC,QAAQR,EAAOG,OAErB,OADAlC,QAAQC,KAAK,2CAA4C8B,EAAOC,KAAMD,EAAOG,OACtE,KAGX,IAAMM,EAAST,EAAOG,MAAM3B,KAAI,SAACkC,GAC7B,OAAO,kBAAC,IAAD,CAAQhC,IAAKgC,EAAKR,MAAM,aAAaQ,MAGhD,OACI,kBAAC,IAAD,CAAOhC,IAAOsB,EAAOrC,MACjB,kBAAC,IAAD,KAASqC,EAAOrC,KAAhB,KACA,kBAAC,IAAD,KACK8C,U,6CAU7BhD,KAAKkD,SAAS,CAACb,YArEC,W,8CAyEhBrC,KAAKkD,SAAS,CAACb,YAAY,W,GAvEN1B,IAAMC,WCkGpBuC,E,YA/FX,WAAYlD,GAAQ,IAAD,8BACf,4CAAMA,KAEDmD,kBAAoB,EAAKA,kBAAkBlB,KAAvB,gBACzB,EAAKmB,iBAAmB,EAAKA,iBAAiBnB,KAAtB,gBAExB,EAAKE,MAAQ,CACTkB,MAAO,EAAKrD,MAAMqD,MAClBC,cAAe,EACflB,YAAa,KACbmB,mBAAmB,EAAKvD,MAAMwD,eAVnB,E,iFAgBf,IAAMC,EAAa1D,KAAKoC,MAAMkB,MAAMK,MAAM3D,KAAKoC,MAAMmB,eAC3B,OAAvBG,EAAW7B,SACVrB,QAAQC,KAAK,+BAAiCiD,EAAWnD,IAEtC,KAApBmD,EAAWhD,MACVF,QAAQC,KAAK,+BAAiCiD,EAAWnD,M,+BAIxD,IAAD,OACJ,GAAIP,KAAKoC,MAAMmB,cAAgB,GAAKvD,KAAKoC,MAAMmB,eAAiBvD,KAAKoC,MAAMkB,MAAMK,MAAMC,OAEnF,OADApD,QAAQC,KAAK,uCAAyCT,KAAKoC,MAAMmB,eAC1D,KAGX,IAAMG,EAAa1D,KAAKoC,MAAMkB,MAAMK,MAAM3D,KAAKoC,MAAMmB,eACrD,OACI,kBAAC,IAAD,CACIM,WAAW,OACXC,MAAO,SACPzC,MAAO,CAAEK,OAAQ,OAAQC,MAAM,SAG/B,6BAE6B,KAArB+B,EAAWlC,MACP,kBAAC,EAAD,CAAgBA,MAAOkC,EAAWlC,QAElC,KAGR,kBAAC,IAAD,KACI,kBAAC,IAAD,KACyB,KAApBkC,EAAWhD,KAAcgD,EAAWhD,KAAO,OAIrB,IAA9BgD,EAAW7B,QAAQ+B,QAA+C,IAA/BF,EAAW7B,QAAQ,GAAGW,KACtD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAiBuB,IAAI,UACjB,kBAAC,IAAD,CAAOvB,KAAK,OAAOwB,aAAa,GAAGC,SAAU,SAACC,GAAD,OAAO,EAAKb,iBAAiBa,QAIlF,kBAAC,EAAD,CAAiBrC,QAAS6B,EAAW7B,QAASE,cAAe/B,KAAKoD,qBAG1E,kBAAC,EAAD,CAAgBd,QAAStC,KAAKoC,MAAMkB,MAAMhB,a,wCAMpC/B,GACd,IAAM4D,EAASnE,KAAKoE,UAAU7D,GAC9BP,KAAKkD,SAAS,CAACK,cAAcY,EAAOE,e,gCAG9B9D,GAEN,IADA,IAAMmD,EAAa1D,KAAKoC,MAAMkB,MAAMK,MAAM3D,KAAKoC,MAAMmB,eAC7Ce,EAAI,EAAGA,EAAIZ,EAAW7B,QAAQ+B,OAAQU,GAAK,EAAE,CACjD,IAAMC,EAAOb,EAAW7B,QAAQyC,GAChC,GAAGC,EAAKhE,KAAOA,EACX,OAAOgE,K,uCAKFL,GACb,IACMC,EADanE,KAAKoC,MAAMkB,MAAMK,MAAM3D,KAAKoC,MAAMmB,eAC3B1B,QAAQ,GACtBqC,EAAEM,OAAO9B,QACTyB,EAAOzD,MACfV,KAAKkD,SAAS,CAACK,cAAcY,EAAOE,iB,GA3F5B1D,IAAMC,WCeX6D,E,iLAdP,OACI,6BACI,kBAAC,IAAD,CAAO1E,MAAO,cACV,kBAAC,IAAD,KACI,kBAAC,IAAD,CAASA,MAAQ,oBAAjB,8B,GAPFY,IAAMC,WCMtB8D,EAAmB,ikBAKnB7C,EAAU,CAHW,CAACtB,GAAG,IAAK8D,WAAW,IAAK7B,KAAK,EAAG9B,KAAK,oBACtC,CAACH,GAAG,IAAK8D,WAAW,IAAK7B,KAAK,EAAG9B,KAAK,gEAU3DiE,EAAa,CAHU,CAACpE,GAAG,IAAKG,KAAKgE,EAAkBlD,MAAM,6EAA8EK,QAAQA,GAC5H,CAACtB,GAAG,IAAKG,KAAKgE,EAAkBlD,MAAM,kFAAmFK,QAAQA,GACjI,CAACtB,GAAG,IAAKG,KAAKgE,EAAkBlD,MAAM,iGAAkGK,QAAQ,CARlJ,CAACtB,GAAG,IAAK8D,WAAW,IAAK7B,KAAK,EAAG9B,KAAK,aAe3D4B,EAAU,CACf,CAACE,KAAK,EAAGtC,KAAK,QAASwC,MAAM,SAC7B,CAACF,KAAK,EAAGtC,KAAK,YAAawC,MAAM,QACjC,CAACF,KAAK,EAAGtC,KAAK,gBAAiBwC,MAAM,OACrC,CAACF,KAAK,EAAGtC,KAAK,QAASwC,MAAM,OAC7B,CAACF,KAAK,EAAGtC,KAAK,mBAAoBwC,MAAM,MACxC,CAACF,KAAK,EAAGtC,KAAK,QAASwC,MAAM,CAAC,QAAS,QAAS,WAG3C5B,EAAS,CACd,CAACP,GAAG,IAAKL,KAAK,kBAAmBc,KAAK,6BAA8BE,OAAO,eAAgBoB,QAASA,EAASqB,MAAOgB,GACpH,CAACpE,GAAG,IAAKL,KAAK,eAAgBc,KAAK,qDAAsDE,OAAO,kBAAmBoB,QAASA,EAASqB,MAAOgB,GAC5I,CAACpE,GAAG,IAAKL,KAAK,+BAAgCc,KAAK,4DAA6DE,OAAO,+CAAgDoB,QAASA,EAASqB,MAAOgB,IAG3LC,E,YAWL,WAAY3E,GAAO,IAAD,8BACjB,4CAAMA,KAHP4E,OAASC,cAKR,EAAKC,cAAgB,EAAKA,cAAc7C,KAAnB,gBACrB,EAAKf,mBAAqB,EAAKA,mBAAmBe,KAAxB,gBAC1B,EAAK8C,yBAA2B,EAAKA,yBAAyB9C,KAA9B,gBAChC,EAAK+C,cAAgB,EAAKA,cAAc/C,KAAnB,gBAErB,EAAKE,MAAM,CACV8C,YAAYN,EAAIO,gBAChBC,iBAAiBR,EAAIO,gBACrBE,YAAY,KACZvE,OAAO,KACE2C,eAAc,GAbP,E,iFAkBjBzD,KAAK+E,kB,+BAIL,OACuB,OAAtB/E,KAAKoC,MAAMtB,OACE,kBAAC,IAAD,CAASwE,KAAK,UAE1B,kBAAC,IAAD,CAAMJ,YAAalF,KAAKoC,MAAM8C,YAAaK,OAC1C,kBAAC,IAAD,KACC,kBAAC,IAAD,CACClF,QAASL,KAAKiF,cACdO,SAAUxF,KAAKoC,MAAM8C,cAAgBlF,KAAKoC,MAAMgD,iBAChDK,aAAYzF,KAAKoC,MAAMgD,iBACvB1E,KAAK,UAEL,kBAAC,IAAD,OAED,kBAAC,IAAD,CACCL,QAASL,KAAKiF,cACdO,SAAUxF,KAAKoC,MAAM8C,cAAgBN,EAAIc,aACzCD,aAAYb,EAAIc,aAChBhF,KAAK,WAEL,kBAAC,IAAD,SAIF,kBAAC,IAAD,CAAMiF,YAAaf,EAAIgB,iBAAkBrF,GAAIqE,EAAIO,iBAChD,kBAAC,IAAD,CAAO5E,GAAIqE,EAAIgB,kBACd,kBAAC,IAAD,eACA,kBAAC,EAAD,CAAW9E,OAASd,KAAKoC,MAAMtB,OAAQK,mBAAoBnB,KAAKmB,uBAGlE,kBAAC,IAAD,CAAMwE,YAAaf,EAAIiB,YAAatF,GAAIqE,EAAIkB,YAC3C,kBAAC,IAAD,CAAOvF,GAAIqE,EAAIiB,aACd,kBAAC,IAAD,CACCE,KACC,kBAAC,IAAD,CAAc1F,QAASL,KAAKgF,0BAC1BhF,KAAK6E,SAAWmB,IAAM,kBAAC,IAAD,MAAuB,kBAAC,IAAD,QAIpB,OAA3BhG,KAAKoC,MAAMiD,YAAuBrF,KAAKoC,MAAMiD,YAAYnF,KAAO,MAEtC,OAA3BF,KAAKoC,MAAMiD,YAAuB,kBAAC,EAAD,CAAO/B,MAAOtD,KAAKoC,MAAMiD,YAAa5B,cAAezD,KAAKoC,MAAMqB,gBAAmB,kBAAC,IAAD,CAAS6B,KAAK,YAGtI,kBAAC,IAAD,CAAM/E,GAAIqE,EAAIc,aAAcC,YAAaf,EAAIqB,eAC5C,kBAAC,IAAD,CAAO1F,GAAIqE,EAAIqB,eACd,kBAAC,IAAD,gBACA,kBAAC,EAAD,W,sCAQLjG,KAAKkD,SAAS,CAACpC,OAAOA,M,+BAGdP,GACR,IAAI,IAAI+D,EAAI,EAAGA,EAAItE,KAAKoC,MAAMtB,OAAO8C,OAAQU,GAAK,EAAE,CACnD,IAAMhB,EAAQtD,KAAKoC,MAAMtB,OAAOwD,GAChC,GAAGhB,EAAM/C,KAAOA,EACf,OAAO+C,K,oCAKKY,GACdlE,KAAKkD,SAAS,CAAEgC,YAAahB,EAAEgC,cAAcC,QAAQC,U,iDAIrDpG,KAAKkD,SAAS,CACbgC,YAAYN,EAAIO,gBAChBC,iBAAiBR,EAAIO,gBACrBE,YAAY,S,yCAIK9E,GAClBP,KAAKkD,SAAS,CACbgC,YAAYN,EAAIkB,WAChBV,iBAAiBR,EAAIkB,WACrBT,YAAYrF,KAAKqG,SAAS9F,S,GApHXI,IAAMC,WAAlBgE,EAEEO,gBAAkB,YAFpBP,EAGEgB,iBAAmB,iBAHrBhB,EAIEkB,WAAa,QAJflB,EAKEiB,YAAc,aALhBjB,EAMEc,aAAe,UANjBd,EAOEqB,cAAgB,eAmHTrB,QC7Jf0B,IAAQC,KAAK,gBAQbC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.abc4e933.chunk.js","sourcesContent":["import React from \"react\"\r\nimport {Group, CellButton} from \"@vkontakte/vkui\";\r\n\r\nclass Button extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <Group title={this.props.name}>\r\n                <CellButton\r\n                    before={this.props.icon}\r\n                    onClick={() => {\r\n                        if (this.props.onClick !== undefined){\r\n                            this.props.onClick(this.props.id)\r\n                        }else{\r\n                            console.warn(\"click event handler is \" + this.props.onClick)\r\n                        }\r\n                    }\r\n                    }\r\n                >\r\n                    {this.props.text}\r\n                </CellButton>\r\n            </Group>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Button","import React from \"react\"\r\nimport Button from \"../Button\";\r\n\r\nclass QuestList extends React.Component{\r\n\r\n    render(){\r\n        return this.props.quests.map(desc => <Button key={desc.id} id={desc.id} name={desc.name} text={desc.desc} author={desc.author} onClick={this.props.onQuestButtonClick}/>)\r\n    }\r\n\r\n}\r\n\r\nexport default QuestList","import React from \"react\"\r\nclass ImageContainer extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            <img style={this.getStyle()} src={this.props.image} alt={this.props.image}/>\r\n        )\r\n    }\r\n\r\n    getStyle(){\r\n        return{\r\n            height: \"100%\",\r\n            width :\"100%\"\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default ImageContainer","import React from \"react\";\r\nimport Button from \"../../Button\";\r\nimport Icon16Chevron from '@vkontakte/icons/dist/16/chevron'\r\n\r\nclass QuestActionList extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            this.props.actions !== null ?\r\n                this.props.actions.map(act => <Button icon={<Icon16Chevron/>}  onClick={this.props.onButtonClick} key={act.id} id={act.id} text={act.text}/>)\r\n            :\r\n                null\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default QuestActionList","import React from \"react\"\r\nimport {Group, Progress, List, Header} from \"@vkontakte/vkui\";\r\n\r\nconst MODAL_PAGE_INFO = \"info\";\r\n\r\nclass QuestInventory extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onShowAdditionalInfo = this.onShowAdditionalInfo.bind(this);\r\n        this.onCloseAdditionalInfo = this.onCloseAdditionalInfo.bind(this);\r\n\r\n        this.state={\r\n            activeModal:null\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.props.globals.map((global) => {\r\n                switch (global.type) {\r\n                    default:\r\n                        console.warn(\"Unknown global %s type %i\", global.name, global.type);\r\n                        return <Group key={global.name}>Placeholder text</Group>;\r\n                    case 0:\r\n                        return(\r\n                            <Group key={global.name}>\r\n                                <Header>{global.name}:</Header>\r\n                                <Header  level={\"secondary\"}>{global.value}</Header>\r\n                            </Group>\r\n                        );\r\n                    case 1:\r\n                        let num = Number(global.value);\r\n                        if (isNaN(num)){\r\n                            console.warn(\"wrong global type %i value format %s\", global.type, global.value);\r\n                            return null;\r\n                        }\r\n                        if(num < 0 || num > 100){\r\n                            console.warn(\"wrong global type %i value %s\", global.type, global.value);\r\n                            num = num < 0 ? 0 : 100;\r\n                        }\r\n                        return (\r\n                            <Group key ={global.name}>\r\n                                <Header>{global.name}:</Header>\r\n                                <Progress value={num}/>\r\n                            </Group>\r\n                        );\r\n                    case 2:\r\n                        if(!Array.isArray(global.value)){\r\n                            console.warn(\"global type %i value is not an array: %s\", global.type, global.value);\r\n                            return null;\r\n                        }\r\n\r\n                        const values = global.value.map((val) => {\r\n                            return <Header key={val} level=\"secondary\">{val}</Header>;\r\n                        });\r\n\r\n                        return(\r\n                            <Group key = {global.name}>\r\n                                <Header>{global.name}:</Header>\r\n                                <List>\r\n                                    {values}\r\n                                </List>\r\n                            </Group>\r\n                        );\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    onShowAdditionalInfo(){\r\n        this.setState({activeModal:MODAL_PAGE_INFO})\r\n    }\r\n\r\n    onCloseAdditionalInfo(){\r\n        this.setState({activeModal:null})\r\n    }\r\n\r\n}\r\n\r\nexport default QuestInventory","import React from \"react\"\r\nimport {Group, Div, FormLayoutGroup, FormLayout, Input, Gallery} from \"@vkontakte/vkui\"\r\nimport ImageContainer from \"../ImageContainer\";\r\nimport QuestActionList from \"./Action/QuestActionList\";\r\nimport QuestInventory from \"./QuestInventory\";\r\n\r\nclass Quest extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onNodeActionClick = this.onNodeActionClick.bind(this);\r\n        this.checkInputAnswer = this.checkInputAnswer.bind(this);\r\n\r\n        this.state = {\r\n            quest: this.props.quest,\r\n            activeNodeIdx: 0,\r\n            activeModal: null,\r\n            isShowInventoryTip:this.props.isFirstLaunch\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        if(activeNode.actions === null){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n        if(activeNode.text === \"\"){\r\n            console.warn(\"actions is not set for node \" + activeNode.id)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if (this.state.activeNodeIdx < 0 || this.state.activeNodeIdx >= this.state.quest.nodes.length){\r\n            console.warn(\"activeNodeIdx is out of boundaries: \" + this.state.activeNodeIdx);\r\n            return null\r\n        }\r\n\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        return(\r\n            <Gallery\r\n                slideWidth=\"100%\"\r\n                align={\"center\"}\r\n                style={{ height: \"100%\", width:\"100%\" }}\r\n\r\n            >\r\n                <div>\r\n                    {\r\n                        activeNode.image !== \"\" ?\r\n                            <ImageContainer image={activeNode.image}/>\r\n                            :\r\n                            null\r\n                    }\r\n\r\n                    <Group>\r\n                        <Div>\r\n                            {activeNode.text !== \"\" ? activeNode.text : null}\r\n                        </Div>\r\n                    </Group>\r\n\r\n                    {activeNode.actions.length === 1 && activeNode.actions[0].type === 1 ?\r\n                        <FormLayout>\r\n                            <FormLayoutGroup top=\"Answer\">\r\n                                <Input type=\"text\" defaultValue=\"\" onChange={(e) => this.checkInputAnswer(e)}/>\r\n                            </FormLayoutGroup>\r\n                        </FormLayout>\r\n                        :\r\n                        <QuestActionList actions={activeNode.actions} onButtonClick={this.onNodeActionClick}/>\r\n                    }\r\n                </div>\r\n                <QuestInventory globals={this.state.quest.globals}/>\r\n\r\n            </Gallery>\r\n        )\r\n    }\r\n\r\n    onNodeActionClick(id){\r\n        const action = this.getAction(id);\r\n        this.setState({activeNodeIdx:action.nextNodeId});\r\n    }\r\n\r\n    getAction(id){\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        for(let i = 0; i < activeNode.actions.length; i += 1){\r\n            const node = activeNode.actions[i];\r\n            if(node.id === id){\r\n                return node;\r\n            }\r\n        }\r\n    }\r\n\r\n    checkInputAnswer(e){\r\n        const activeNode = this.state.quest.nodes[this.state.activeNodeIdx];\r\n        const action = activeNode.actions[0];\r\n        const val = e.target.value;\r\n        if (val === action.text){\r\n            this.setState({activeNodeIdx:action.nextNodeId});\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Quest","import React from \"react\"\r\nimport {Panel, Group, InfoRow, Div} from \"@vkontakte/vkui\";\r\nimport App from \"../App\";\r\n\r\nclass Profile extends React.Component{\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Group title={\"Statistics\"}>\r\n                    <Div>\r\n                        <InfoRow title ={\"Quests Completed\"}>\r\n                            over nine thousands\r\n                        </InfoRow>\r\n                    </Div>\r\n                </Group>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default Profile","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {View, Panel, PanelHeader, Spinner, HeaderButton, platform, IOS, Epic, Tabbar, TabbarItem} from \"@vkontakte/vkui\";\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\r\nimport QuestList from \"./components/Quest/QuestList\";\r\nimport Quest from \"./components/Quest/Quest\";\r\nimport Profile from \"./components/Profile\";\r\n\r\nconst textPlaceholder1 = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\r\n\r\nconst actionPlaceholder1 = {id:\"0\", nextNodeId:\"1\", type:0, text:\"Some action text\"};\r\nconst actionPlaceholder2 = {id:\"1\", nextNodeId:\"2\", type:0, text:\"Some text about how i like to do anything instead of my job\"};\r\nconst actionPlaceholder3 = {id:\"0\", nextNodeId:\"0\", type:1, text:\"Answer\"};\r\nconst actions = [\r\n\tactionPlaceholder1,\r\n\tactionPlaceholder2,\r\n];\r\n\r\nconst questNodePlaceholder1 ={id:\"0\", text:textPlaceholder1, image:\"https://cdn.akc.org/Marketplace/Breeds/Staffordshire_Bull_Terrier_SERP.jpg\", actions:actions};\r\nconst questNodePlaceholder2 ={id:\"1\", text:textPlaceholder1, image:\"https://www.k9web.com/wp-content/uploads/2019/01/staffordshire-bull-terrier.jpg\", actions:actions};\r\nconst questNodePlaceholder3 ={id:\"2\", text:textPlaceholder1, image:\"https://www.allthingsdogs.com/wp-content/uploads/2018/10/American-Pitbull-Terrier-Sleeping.jpg\", actions:[actionPlaceholder3]};\r\nconst questNodes = [\r\n\tquestNodePlaceholder1,\r\n\tquestNodePlaceholder2,\r\n\tquestNodePlaceholder3\r\n];\r\n\r\nconst globals = [\r\n\t{type:0, name:\"Money\", value:\"15000\"},\r\n\t{type:0, name:\"Authority\", value:\"1000\"},\r\n\t{type:1, name:\"Health Points\", value:\"100\"},\r\n\t{type:1, name:\"Manna\", value:\"100\"},\r\n\t{type:1, name:\"Quest Completion\", value:\"35\"},\r\n\t{type:2, name:\"Items\", value:[\"Knife\", \"Chair\", \"Sugar\"]},\r\n];\r\n\r\nconst quests = [\r\n\t{id:\"1\", name:\"The first quest\", desc:\"Lorem ipsum dolor sit amet\", author:\"Andrew Bamby\", globals: globals, nodes: questNodes},\r\n\t{id:\"2\", name:\"Second Quest\", desc:\"Some placeholder text about how cool this quest is\", author:\"Kremdlya ZhepbI\", globals: globals, nodes: questNodes},\r\n\t{id:\"3\", name:\"The third and the last quest\", desc:\"The most unbelievable quest on the planet Earth.Trust me.\", author:\"The most unbelievable man on the planet Mars\", globals: globals, nodes: questNodes}\r\n];\r\n\r\nclass App extends React.Component{\r\n\r\n\tstatic QUEST_LIST_VIEW = \"questList\";\r\n\tstatic QUEST_LIST_PANEL = \"questListPanel\";\r\n\tstatic QUEST_VIEW = \"quest\";\r\n\tstatic QUEST_PANEL = \"questPanel\";\r\n\tstatic PROFILE_VIEW = \"profile\";\r\n\tstatic PROFILE_PANEL = \"profilePanel\";\r\n\r\n\tosname = platform();\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\r\n\t\tthis.requestQuests = this.requestQuests.bind(this);\r\n\t\tthis.onQuestButtonClick = this.onQuestButtonClick.bind(this);\r\n\t\tthis.onRequestBackToQuestList = this.onRequestBackToQuestList.bind(this);\r\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\r\n\r\n\t\tthis.state={\r\n\t\t\tactiveStory:App.QUEST_LIST_VIEW,\r\n\t\t\tactiveQuestStory:App.QUEST_LIST_VIEW,\r\n\t\t\tactiveQuest:null,\r\n\t\t\tquests:null,\r\n            isFirstLaunch:true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.requestQuests();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\tthis.state.quests === null ?\r\n                <Spinner size=\"large\" />\r\n                :\r\n\t\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\r\n\t\t\t\t\t<Tabbar>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\r\n\t\t\t\t\t\t\tselected={this.state.activeStory === this.state.activeQuestStory}\r\n\t\t\t\t\t\t\tdata-story={this.state.activeQuestStory}\r\n\t\t\t\t\t\t\ttext=\"Quests\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon28Newsfeed />\r\n\t\t\t\t\t\t</TabbarItem>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\r\n\t\t\t\t\t\t\tselected={this.state.activeStory === App.PROFILE_VIEW}\r\n\t\t\t\t\t\t\tdata-story={App.PROFILE_VIEW}\r\n\t\t\t\t\t\t\ttext=\"Profile\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon28Newsfeed />\r\n\t\t\t\t\t\t</TabbarItem>\r\n\t\t\t\t\t</Tabbar>\r\n\t\t\t\t}>\r\n\t\t\t\t\t<View activePanel={App.QUEST_LIST_PANEL} id={App.QUEST_LIST_VIEW}>\r\n\t\t\t\t\t\t<Panel id={App.QUEST_LIST_PANEL}>\r\n\t\t\t\t\t\t\t<PanelHeader>Quests</PanelHeader>\r\n\t\t\t\t\t\t\t<QuestList quests ={this.state.quests} onQuestButtonClick={this.onQuestButtonClick} />\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View activePanel={App.QUEST_PANEL} id={App.QUEST_VIEW}>\r\n\t\t\t\t\t\t<Panel id={App.QUEST_PANEL}>\r\n\t\t\t\t\t\t\t<PanelHeader\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<HeaderButton onClick={this.onRequestBackToQuestList}>\r\n\t\t\t\t\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t\t\t\t\t</HeaderButton>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.state.activeQuest !== null ? this.state.activeQuest.name : null}\r\n\t\t\t\t\t\t\t</PanelHeader>\r\n\t\t\t\t\t\t\t{this.state.activeQuest !== null ? <Quest quest={this.state.activeQuest} isFirstLaunch={this.state.isFirstLaunch}/> : <Spinner size=\"large\" />}\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id={App.PROFILE_VIEW} activePanel={App.PROFILE_PANEL}>\r\n\t\t\t\t\t\t<Panel id={App.PROFILE_PANEL}>\r\n\t\t\t\t\t\t\t<PanelHeader>Profile</PanelHeader>\r\n\t\t\t\t\t\t\t<Profile/>\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Epic>\r\n\t\t)\r\n\t}\r\n\r\n\trequestQuests(){\r\n\t\tthis.setState({quests:quests})\r\n\t}\r\n\r\n\tgetQuest(id){\r\n\t\tfor(let i = 0; i < this.state.quests.length; i += 1){\r\n\t\t\tconst quest = this.state.quests[i];\r\n\t\t\tif(quest.id === id){\r\n\t\t\t\treturn quest;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonStoryChange (e) {\r\n\t\tthis.setState({ activeStory: e.currentTarget.dataset.story })\r\n\t}\r\n\r\n\tonRequestBackToQuestList(){\r\n\t\tthis.setState({\r\n\t\t\tactiveStory:App.QUEST_LIST_VIEW,\r\n\t\t\tactiveQuestStory:App.QUEST_LIST_VIEW,\r\n\t\t\tactiveQuest:null\r\n\t\t})\r\n\t}\r\n\r\n\tonQuestButtonClick(id){\r\n\t\tthis.setState({\r\n\t\t\tactiveStory:App.QUEST_VIEW,\r\n\t\t\tactiveQuestStory:App.QUEST_VIEW,\r\n\t\t\tactiveQuest:this.getQuest(id)\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport default App;\r\n\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}